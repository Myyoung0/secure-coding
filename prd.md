# Product Requirements Document (PRD)

## 1. Vision
- **중고거래 플랫폼의 목표**: 사용자가 간편하고 안전하게 상품을 구매·판매할 수 있는 웹 기반 서비스 제공
- **핵심 가치**: 직관적인 UI/UX, 안정적인 거래 환경(내부 지갑), 효율적인 신고·차단 시스템, 탄탄한 관리자 관리 도구 제공

## 2. Background
- 기존 중고거래 서비스의 복잡한 회원가입 및 검증 절차로 인한 이탈
- 사용자 간의 사기 및 분쟁 발생 시 해결 기제 부재
- 모바일과 웹 양쪽을 모두 지원하는 경량 서비스 필요

## 3. Objectives and Goals
|항목|목표|
|---|---|
|MVP 출시|3개월 이내 기본 기능(회원가입·상품 등록·내부 지갑 거래) 론칭|
|거래 안정성|내부 지갑 시스템 도입으로 거래 오류율 0% 달성|
|사용자 편의성|상품 검색 및 등록 프로세스 평균 3단계 이내 완료|
|관리 효율성|관리자 대시보드 내 주요 관리 작업 5분 이내 처리 가능|

## 4. User Personas & User Stories

### 4.1 Personas
- **판매자**: 상품을 빠르게 등록하고 안전한 입금을 원함
- **구매자**: 검색 필터를 통해 원하는 상품을 쉽게 찾고 싶음
- **관리자**: 신고·차단 내역을 신속히 확인·처리하고 싶음

### 4.2 User Stories
1. **회원가입/로그인**: 사용자는 이메일과 비밀번호 또는 SNS로 계정을 생성·접속할 수 있어야 한다.
2. **상품 등록**: 판매자는 제목, 설명, 가격, 이미지 등을 입력해 상품을 등록할 수 있어야 한다.
3. **상품 검색·조회**: 구매자는 카테고리·지역·가격 필터를 사용해 상품 목록을 확인하고, 상세 페이지로 이동할 수 있어야 한다.
4. **내부 지갑 송금**: 사용자는 지갑 간 금액 이체를 안전하게 요청하고, 이력 확인이 가능해야 한다.
5. **신고·차단**: 사용자는 부적절한 상품이나 사용자를 신고할 수 있어야 하고, 관리자는 이를 처리할 수 있어야 한다.
6. **관리자 대시보드**: 관리자는 사용자·상품·신고 내역을 검색·필터링하고 상태를 변경할 수 있어야 한다.

## 5. Functional Requirements

### 5.1 회원 관리
- 이메일·비밀번호 기반 가입 및 로그인
- JWT 또는 세션 인증
- 프로필 수정(닉네임, 사진, 상태)

### 5.2 상품 관리
- CRUD 상품 API (제목, 설명, 가격, 카테고리, 지역, 이미지)
- 페이징 및 정렬(최신·인기)
- 검색어 자동완성

### 5.3 거래 시스템
- **wallets** 테이블에서 잔액 관리
- **transfers** 테이블에 송금 내역 기록
- 트랜잭션 단위 처리

### 5.4 신고·차단
- **reports** 테이블에 신고 저장
- 누적 신고 시 자동 숨김 로직

### 5.5 관리자 기능
- 사용자/상품/신고 CRUD 및 상태 변경
- 공지사항, 광고 배너 관리

## 6. Non-Functional Requirements
- **보안**: HTTPS, 입력 검증, 비밀번호 해싱
- **성능**: 페이징, 캐싱 전략 도입
- **유지보수성**: 모듈화된 Flask 코드 구조
- **배포**: 로컬 환경에서 Docker Compose 사용 가능

## 7. Datasheets & Schema
- **DB**: SQLite
- **Schema**: users, wallets, transfers, products, product_images, reports, search_logs

## 8. Assumptions & Constraints
- 외부 인프라 및 클라우드 사용 없음(로컬 전용)
- 파일 스토리지: 로컬 파일 시스템
- 이메일/SMS 전송은 개발환경에서 모킹 처리

## 9. Acceptance Criteria
- 회원가입부터 상품 거래 완료까지 E2E 테스트 통과
- 시나리오별 단위 테스트 90% 커버리지 달성
- 주요 기능(상품 등록, 검색, 송금, 신고) UX 검증 완료

## 10. Appendix
- 향후 모바일 앱 확장 시 API 버전 관리 전략 필요
- 외부 결제 연동(선택) 가이드 문서 별도작성

